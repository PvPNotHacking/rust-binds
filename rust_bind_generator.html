<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rust Bind Generator</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #f0f0f0; }
    .container { display: flex; gap: 2rem; max-width: 1200px; margin: auto; }
    .form-section, .action-list { background: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
    .form-section { flex: 1; }
    .action-list { flex: 1; max-height: 600px; overflow-y: auto; }
    input, select, button { width: 100%; padding: 0.5rem; margin: 0.5rem 0; }
    pre { background: #eee; padding: 1rem; border-radius: 0.5rem; white-space: pre-wrap; }
    ul { padding-left: 1rem; }
    li code { cursor: pointer; color: #0077cc; }
    li code:hover { text-decoration: underline; }
    .search-box { margin-bottom: 1rem; }
    .craft-builder { margin-top: 2rem; border-top: 1px solid #ccc; padding-top: 1rem; }
    .craft-item { display: flex; gap: 1rem; margin-bottom: 0.5rem; }
    .craft-item select, .craft-item input { flex: 1; }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-section">
      <h1>Rust Bind Generator</h1>
      <label for="key">Choose Key:</label>
      <input type="text" id="key" placeholder="e.g. mouse1, f1, 1, etc." />

      <label for="action">Choose Action:</label>
      <input type="text" id="action" placeholder="e.g. +attack, +jump, or full craft.add chain" />

      <button onclick="generateBind()">Generate Bind</button>
      <button onclick="copyBind()">Copy to Clipboard</button>
      <button onclick="downloadCfg()">Download .cfg</button>

      <h3>Generated Bind:</h3>
      <pre id="output"></pre>

      <div class="craft-builder">
        <h2>Craft Bind Builder</h2>
        <div id="craftList"></div>
        <button onclick="addCraftItem()">Add Item</button>
        <button onclick="generateCraftBind()">Build Craft Bind</button>
      </div>
    </div>

    <div class="action-list">
      <h2>Common Rust Bind Actions</h2>
      <input class="search-box" type="text" id="search" placeholder="Search actions..." oninput="filterActions()" />
      <ul id="actionList">
        <li><code onclick="setAction('+attack')">+attack</code> - Fire weapon</li>
        <li><code onclick="setAction('+attack2')">+attack2</code> - Secondary attack</li>
        <li><code onclick="setAction('+duck')">+duck</code> - Crouch</li>
        <li><code onclick="setAction('+jump')">+jump</code> - Jump</li>
        <li><code onclick="setAction('+reload')">+reload</code> - Reload</li>
        <li><code onclick="setAction('+use')">+use</code> - Interact</li>
        <li><code onclick="setAction('+forward')">+forward</code> - Move forward</li>
        <li><code onclick="setAction('+back')">+back</code> - Move backward</li>
        <li><code onclick="setAction('+left')">+left</code> - Move left</li>
        <li><code onclick="setAction('+right')">+right</code> - Move right</li>
        <li><code onclick="setAction('+sprint')">+sprint</code> - Sprint</li>
        <li><code onclick="setAction('+altlook')">+altlook</code> - Look around</li>
        <li><code onclick="setAction('+inventory')">+inventory</code> - Open inventory</li>
        <li><code onclick="setAction('+map')">+map</code> - Open map</li>
        <li><code onclick="setAction('+voice')">+voice</code> - Push-to-talk</li>
        <li><code onclick="setAction('+gesture')">+gesture</code> - Open gesture wheel</li>
        <li><code onclick="setAction('+crafting')">+crafting</code> - Open crafting menu</li>
        <li><code onclick="setAction('+view')">+view</code> - Switch view mode</li>
      </ul>
    </div>
  </div>

  <script>
    const itemMap = {
      "Medical Syringe": 1079279582,
      "Metal Facemask": -2072273936,
      "Rifle Ammo": -1211166256,
      "Assault Rifle": 1545779598,
      "8x Scope": 567235583,
      "Holosight": 442289265,
      "Laser Sight": -132516482
    };

    function generateBind() {
      const key = document.getElementById('key').value.trim();
      const action = document.getElementById('action').value.trim();
      const bind = `bind ${key} "${action}"`;
      document.getElementById('output').textContent = bind;
    }

    function copyBind() {
      const output = document.getElementById('output').textContent;
      navigator.clipboard.writeText(output).then(() => alert("Copied!"));
    }

    function downloadCfg() {
      const content = document.getElementById('output').textContent + "\n";
      const blob = new Blob([content], { type: 'text/plain' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'autoexec.cfg';
      a.click();
    }

    function setAction(action) {
      document.getElementById('action').value = action;
    }

    function filterActions() {
      const input = document.getElementById('search').value.toLowerCase();
      const items = document.querySelectorAll('#actionList li');
      items.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(input) ? '' : 'none';
      });
    }

    function addCraftItem() {
      const container = document.createElement('div');
      container.className = 'craft-item';

      const select = document.createElement('select');
      for (let name in itemMap) {
        const option = document.createElement('option');
        option.value = name;
        option.textContent = name;
        select.appendChild(option);
      }

      const qtyInput = document.createElement('input');
      qtyInput.placeholder = 'Quantity';
      qtyInput.type = 'number';

      container.appendChild(select);
      container.appendChild(qtyInput);

      document.getElementById('craftList').appendChild(container);
    }

    function generateCraftBind() {
      const items = document.querySelectorAll('.craft-item');
      const commands = [];

      items.forEach(item => {
        const name = item.children[0].value;
        const qty = item.children[1].value.trim();
        const id = itemMap[name];
        if (id && qty) {
          commands.push(`craft.add ${id} ${qty}`);
        }
      });

      const fullCommand = commands.join(';');
      document.getElementById('action').value = fullCommand;
    }
  </script>
</body>
</html>
